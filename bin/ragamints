#!/usr/bin/env node
'use strict';

var chalk = require('chalk');
var iojs  = require('is-iojs');

// Thanks for maximilianschmitt for this launcher
// https://gist.github.com/maximilianschmitt/8ef57cb679fbf764b108
if (!iojs) {
  var pjson = require('../package.json');
  require('babel/register')({
    ignore: new RegExp(pjson.name + '/node_modules')
  });
}

var ragamints = require('../lib/ragamints');
var log = require('../lib/log');

ragamints.main(process.argv).then(function() {
  process.exit(0);
}).catch(function(err) {
  if (err) {
    log.output(log.error(err.error_message || err.message || err.body));
  }
  process.exit(1);
});
